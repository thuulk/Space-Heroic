from functions import movable_objects, initialize, game_over, in_game_inputs, game_menu, reinitialize_music
from classes import game, timer
import pygame


def running():

    while game.reset:

        initialize()

        # While this attribute is true, the next block will be executed.
        while game.menu.execute:

            game_menu()

        reinitialize_music()
        timer.reset()

        # While this attribute is true execute the next block.
        while game.execute:

            # Displaying the background image on the screen.
            game.screen.blit(game.background, (0, 0))

            # These are all the functions that make the game work.
            in_game_inputs()
            movable_objects()
            game.show_score()
            game.show_best_score()
            game.new_best_score()

            # Updating the screen.
            pygame.display.flip()

        timer.reset()
        while game.over:

            game_over()


running()
